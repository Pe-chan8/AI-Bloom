<% content_for :title, "ログイン - AI-Bloom" %>

<div class="min-h-[calc(100vh-80px)] bg-[#FFF3D6] flex items-start md:items-center justify-center px-4 py-10">

  <div class="w-full max-w-2xl">
    <!-- タイトル -->
    <header class="space-y-1 text-center mb-6">
      <h1 class="text-2xl font-bold text-slate-800">AI-Bloomへようこそ</h1>
      <p class="text-xs text-slate-500 mt-1">
        日々の小さな頑張りを、AIバディと一緒にやさしく振り返りましょう。
      </p>
    </header>

    <!-- カード -->
    <section class="bg-white rounded-[32px] shadow-md border border-amber-100 px-8 py-8 space-y-6">

      <%= form_with model: resource,
                    url: session_path(resource_name),
                    local: true do |f| %>

        <!-- メールアドレス -->
        <div class="space-y-1">
          <%= f.label :email, "Eメール", class: "block text-xs font-semibold text-slate-700" %>
          <%= f.email_field :email,
                autofocus: true,
                autocomplete: "email",
                class: "w-full rounded-2xl border border-amber-200 bg-[#FFFDF8] px-3 py-2
                         text-sm text-slate-800 placeholder:text-slate-300
                         focus:outline-none focus:ring-2 focus:ring-sky-300" %>
        </div>

        <!-- パスワード -->
        <div class="space-y-1 mt-4">
          <%= f.label :password, "パスワード", class: "block text-xs font-semibold text-slate-700" %>
          <%= f.password_field :password,
                autocomplete: "current-password",
                class: "w-full rounded-2xl border border-amber-200 bg-[#FFFDF8] px-3 py-2
                         text-sm text-slate-800 placeholder:text-slate-300
                         focus:outline-none focus:ring-2 focus:ring-sky-300" %>
        </div>

        <!-- ログイン状態を保持 -->
        <% if devise_mapping.rememberable? %>
          <div class="flex items-center justify-between mt-3">
            <label class="inline-flex items-center gap-2 text-xs text-slate-600">
              <%= f.check_box :remember_me, class: "rounded border-amber-300 text-sky-500" %>
              <span>ログイン状態を保存する</span>
            </label>
          </div>
        <% end %>

        <!-- ボタン -->
        <div class="mt-6 space-y-3">
          <%= f.submit "ログイン",
                class: "w-full inline-flex items-center justify-center rounded-full
                        bg-sky-500 hover:bg-sky-600 text-white text-[13px] font-semibold
                        px-4 py-2 transition hover:bg-sky-50" %>

          <!-- 診断だけ遊ぶボタン -->
          <%= link_to "ログインせずにソーシャル診断で遊ぶ",
                diagnosis_top_path,
                class: "w-full inline-flex items-center justify-center rounded-full
                        border border-sky-300 bg-white text-sky-600 text-[13px] font-semibold
                        px-4 py-2 transition hover:bg-sky-50" %>
        </div>
      <% end %>

      <!-- 下部リンク -->
      <div class="pt-3 border-t border-amber-100 space-y-2 text-center">
        <p class="text-sm text-slate-500">
          まだアカウントをお持ちでない方は、
          <%= link_to "アカウント登録", new_registration_path(resource_name),
                      class: "text-sky-600 font-semibold hover:underline" %>
          からどうぞ。
        </p>

        <% if devise_mapping.recoverable? %>
          <p class="text-sm">
            <%= link_to "パスワードをお忘れですか？",
                        new_password_path(resource_name),
                        class: "text-sky-600 hover:underline" %>
          </p>
        <% end %>
      </div>
    </section>
  </div>
</div>
